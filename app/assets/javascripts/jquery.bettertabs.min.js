/*
 jQuery Bettertabs Plugin
 version: 1.4 (Mar-12-2012)
 @requires jQuery v1.3 or later

 Examples and documentation at: https://github.com/agoragames/bettertabs

 Copyright (c) 2011 Mario Izquierdo (tothemario@gmail.com)
 Dual licensed under the MIT and GPL licenses:
   http://www.opensource.org/licenses/mit-license.php
   http://www.gnu.org/licenses/gpl.html
*/
(function(){var e,a,i,j,h,c,k,g,d,b,f;e=jQuery;b="data-tab-type";d="data-tab-initial-via";k="data-show-content-id";a="data-ajax-url";i="data-append";c="data-show-append-id";f=function(l){return l.attr(b)};g=function(l){return l.attr(d)};h=function(l){return l.attr(k)};j=function(l){return l.attr(c)};e.Bettertabs={change_browser_url:function(l){if((typeof history!=="undefined"&&history!==null)&&(history.replaceState!=null)){return history.replaceState(null,document.title,l)}},select_tab:function(m,l){return e("#"+l+"_"+m+"_tab a").click()}};e.fn.bettertabs=function(){this.each(function(){var l,n,p,m,o,q;q=e(this);n=q.find("ul.tabs > li");o=q.find("ul.tabs > li > a");m=q.children(".content:not(.content-only-block)");p=n.add(m);l=o.filter(".active");if(f(l)==="ajax"){if(g(l)!=="ajax"){l.data("content-loaded-already",true)}else{l.parent().removeClass("active");e(function(){return l.click()})}}return o.click(function(u){var w,x,t,s,v,r;s=e(this);if(f(s)!=="link"){u.preventDefault();v=s.parent();if(!v.hasClass("active")&&!s.hasClass("ajax-loading")){r=m.filter("#"+(h(s)));x=n.filter(".active");t=m.filter(".active");w=function(){n.removeClass("active");o.removeClass("active");m.removeClass("active").addClass("hidden");if(s.attr(i)&&!r.children("#"+(j(s))).length>0){r.append("<div id='"+(j(s))+"'></div>");e("#"+(j(s))).html(e("<div/>").html(s.attr(i)).text())}v.addClass("active");s.addClass("active");r.removeClass("hidden").addClass("active");t.trigger("bettertabs-after-deactivate");r.trigger("bettertabs-after-activate");return e.Bettertabs.change_browser_url(s.attr("href"))};t.trigger("bettertabs-before-deactivate");r.trigger("bettertabs-before-activate");if(f(s)==="ajax"&&!(s.data("content-loaded-already")!=null)){s.addClass("ajax-loading");r.trigger("bettertabs-before-ajax-loading");return r.load(s.attr(a),function(z,A,y){if(A==="error"&&!g(s)==="ajax"){return window.location=s.attr("href")}else{if(A==="error"&&g(s)==="ajax"){r.html(e(z).not("style").not("title").not("meta").not("script"))}s.removeClass("ajax-loading");s.data("content-loaded-already",true);r.trigger("bettertabs-after-ajax-loading");return w()}})}else{return w()}}}})});return this}}).call(this);