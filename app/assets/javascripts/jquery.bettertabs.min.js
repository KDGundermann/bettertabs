/*
 jQuery Bettertabs Plugin
 version: 1.4 (Mar-12-2012)
 @requires jQuery v1.3 or later

 Examples and documentation at: https://github.com/agoragames/bettertabs

 Copyright (c) 2011 Mario Izquierdo (tothemario@gmail.com)
 Dual licensed under the MIT and GPL licenses:
   http://www.opensource.org/licenses/mit-license.php
   http://www.gnu.org/licenses/gpl.html
*/
(function(){var f,h,e,b,d,c,a,g;f=jQuery;a="data-tab-type";c="data-tab-initial-via";b="data-show-content-id";h="data-ajax-url";g=function(i){return i.attr(a)};d=function(i){return i.attr(c)};e=function(i){return i.attr(b)};f.Bettertabs={change_browser_url:function(i){if((typeof history!=="undefined"&&history!==null)&&(history.replaceState!=null)){return history.replaceState(null,document.title,i)}},select_tab:function(j,i){return f("#"+i+"_"+j+"_tab a").click()}};f.fn.bettertabs=function(){this.each(function(){var i,k,m,j,l,n;n=f(this);k=n.find("ul.tabs > li");l=n.find("ul.tabs > li > a");j=n.children(".content:not(.content-only-block)");m=k.add(j);i=l.filter(".active");if(g(i)==="ajax"){if(d(i)!=="ajax"){i.data("content-loaded-already",true)}else{i.parent().removeClass("active");f(function(){return i.click()})}}return l.click(function(r){var t,u,q,p,s,o;p=f(this);if(g(p)!=="link"){r.preventDefault();s=p.parent();if(!s.hasClass("active")&&!p.hasClass("ajax-loading")){o=j.filter("#"+(e(p)));u=k.filter(".active");q=j.filter(".active");t=function(){k.removeClass("active");l.removeClass("active");j.removeClass("active").addClass("hidden");s.addClass("active");p.addClass("active");o.removeClass("hidden").addClass("active");q.trigger("bettertabs-after-deactivate");o.trigger("bettertabs-after-activate");return f.Bettertabs.change_browser_url(p.attr("href"))};q.trigger("bettertabs-before-deactivate");o.trigger("bettertabs-before-activate");if(g(p)==="ajax"&&!(p.data("content-loaded-already")!=null)){p.addClass("ajax-loading");o.trigger("bettertabs-before-ajax-loading");return o.load(p.attr(h),function(w,x,v){if(x==="error"&&!d(p)==="ajax"){return window.location=p.attr("href")}else{if(x==="error"&&d(p)==="ajax"){o.html(f(w).not("style").not("title").not("meta"))}p.removeClass("ajax-loading");p.data("content-loaded-already",true);o.trigger("bettertabs-after-ajax-loading");return t()}})}else{return t()}}}})});return this}}).call(this);