/*
 jQuery Bettertabs Plugin
 version: 1.4 (Mar-12-2012)
 @requires jQuery v1.3 or later

 Examples and documentation at: https://github.com/agoragames/bettertabs

 Copyright (c) 2011 Mario Izquierdo (tothemario@gmail.com)
 Dual licensed under the MIT and GPL licenses:
   http://www.opensource.org/licenses/mit-license.php
   http://www.gnu.org/licenses/gpl.html
*/
(function(){var d,a,g,h,f,b,i,c,e;d=jQuery;c="data-tab-type";i="data-show-content-id";a="data-ajax-url";g="data-append";b="data-show-append-id";e=function(j){return j.attr(c)};f=function(j){return j.attr(i)};h=function(j){return j.attr(b)};d.Bettertabs={change_browser_url:function(j){if((typeof history!=="undefined"&&history!==null)&&(history.replaceState!=null)){return history.replaceState(null,document.title,j)}},select_tab:function(k,j){return d("#"+j+"_"+k+"_tab a").click()}};d.fn.bettertabs=function(){this.each(function(){var j,l,n,k,m,o;o=d(this);l=o.find("ul.tabs > li");m=o.find("ul.tabs > li > a");k=o.children(".content:not(.content-only-block)");n=l.add(k);j=m.filter(".active");if(e(j)==="ajax"){j.data("content-loaded-already",true)}return m.click(function(s){var u,v,r,q,t,p;q=d(this);if(e(q)!=="link"){s.preventDefault();t=q.parent();if(!t.hasClass("active")&&!q.hasClass("ajax-loading")){p=k.filter("#"+(f(q)));v=l.filter(".active");r=k.filter(".active");u=function(){l.removeClass("active");m.removeClass("active");k.removeClass("active").addClass("hidden");if(q.attr(g)&&!p.children("#"+(h(q))).length>0){p.append("<div id='"+(h(q))+"'></div>");d("#"+(h(q))).html(d("<div/>").html(q.attr(g)).text())}t.addClass("active");q.addClass("active");p.removeClass("hidden").addClass("active");r.trigger("bettertabs-after-deactivate");p.trigger("bettertabs-after-activate");return d.Bettertabs.change_browser_url(q.attr("href"))};r.trigger("bettertabs-before-deactivate");p.trigger("bettertabs-before-activate");if(e(q)==="ajax"&&!(q.data("content-loaded-already")!=null)){q.addClass("ajax-loading");p.trigger("bettertabs-before-ajax-loading");return p.load(q.attr(a),function(x,y,w){if(y==="error"){return window.location=q.attr("href")}else{q.removeClass("ajax-loading");q.data("content-loaded-already",true);p.trigger("bettertabs-after-ajax-loading");return u()}})}else{return u()}}}})});return this}}).call(this);